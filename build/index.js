(()=>{var d=class{constructor(t){this.symbols=t}getSymbol(t){let o=Math.floor(t/255*(this.symbols.length-1));return{text:this.symbols[o],index:o}}};var I=new d(["call_made","call_received","call_missed","call_missed_outgoing","read_more","call_end","phone","phone_enabled","call","call_merge","import_export","dialer_sip","add_ic_call","key_off","person_search","phone_disabled","call_split","wifi_calling","phonelink_erase","vpn_key_off","vpn_key","invert_colors_off","qr_code_scanner","clear_all","location_off","location_on","person_add_disabled","qr_code_2","speaker_phone","no_sim","nat","domain_disabled","swap_calls","rss_feed","dialpad","app_registration","more_time","ring_volume","mark_unread_chat_alt","voicemail","key","chat_bubble_outline","mark_email_unread","duo","sentiment_satisfied_alt","cell_tower","rtt","spoke","forward_to_inbox","mail_outline","cell_wifi","portable_wifi_off","phonelink_ring","alternate_email","hourglass_bottom","hourglass_top","stay_current_portrait","stay_primary_portrait","stay_current_landscape","stay_primary_landscape","domain_verification","pause_presentation","cancel_presentation","present_to_all","list_alt","qr_code","phonelink_lock","mobile_screen_share","desktop_access_disabled","phonelink_setup","hub","unsubscribe","business","send_time_extension","print_disabled","co_present","import_contacts","mark_email_read","comments_disabled","document_scanner","comment","message","forum","sip","chat","mail_lock","stop_screen_share","mark_chat_read","email","3p","live_help","screen_share","mark_chat_unread","textsms","contact_mail","chat_bubble","contacts","contact_phone","contact_emergency"]);var C=new d(["connecting_airports","alt_route","transit_enterexit","360","straight","local_phone","vaping_rooms","turn_slight_left","turn_slight_right","smoking_rooms","grass","directions_run","turn_left","turn_right","mode_of_travel","multiple_stop","moving","near_me","terrain","ramp_right","ramp_left","navigation","vape_free","turn_sharp_left","turn_sharp_right","atm","merge","soup_kitchen","no_drinks","local_dining","restaurant_menu","transfer_within_a_station","bungalow","stroller","tty","person_pin_circle","no_stroller","local_fire_department","fork_left","fork_right","not_listed_location","airline_stops","room_service","pest_control_rodent","location_pin","u_turn_left","u_turn_right","layers","compass_calibration","local_pizza","park","emergency_share","attractions","place","bakery_dining","person_pin","egg","edit_location","category","golf_course","roofing","airlines","local_grocery_store","spa","electric_car","cabin","no_meeting_room","directions_bus","child_friendly","local_car_wash","set_meal","trip_origin","electric_rickshaw","remove_road","add_road","checkroom","corporate_fare","zoom_out_map","wrong_location","sports_bar","umbrella","electrical_services","all_inclusive","lunch_dining","edit_road","sailing","add_location_alt","directions_walk","fitness_center","flight_class","volunteer_activism","desk","flight","directions_subway_filled","directions_transit_filled","electric_scooter","directions_railway_filled","zoom_in_map","taxi_alert","screen_rotation_alt","bus_alert","other_houses","local_airport","smoke_free","no_backpack","egg_alt","local_movies","forest","satellite","museum","local_offer","chalet","cottage","wine_bar","plumbing","sos","local_police","railway_alert","dry","local_convenience_store","foundation","wash","soap","hail","house_siding","celebration","nightlife","local_bar","child_care","car_repair","carpenter","wheelchair_pickup","local_parking","route","hardware","baby_changing_station","near_me_disabled","car_rental","iron","pool","beach_access","brunch_dining","directions_bike","fire_extinguisher","electric_moped","pin_drop","dinner_dining","diamond","add_location","icecream","houseboat","dry_cleaning","bike_scooter","ac_unit","my_location","pedal_bike","local_atm","escalator_warning","layers_clear","rv_hookup","agriculture","gite","tram","edit_attributes","restaurant","two_wheeler","emergency","directions_car","no_meals","safety_check","cleaning_services","handyman","electric_bike","fence","house","snowmobile","pest_control","design_services","edit_location_alt","water_damage","crib","local_taxi","storefront","crisis_alert","airport_shuttle","traffic","do_not_step","directions_car_filled","no_transfer","takeout_dining","night_shelter","balcony","local_florist","charging_station","store_mall_directory","local_gas_station","directions","theater_comedy","signpost","hot_tub","ramen_dining","hotel","local_hotel","no_flash","meeting_room","villa","ev_station","room_preferences","countertops","food_bank","family_restroom","add_business","microwave","holiday_village","train","money","directions_subway","directions_transit","no_crash","map","liquor","directions_bus_filled","do_not_touch","car_crash","directions_railway","local_laundry_service","apartment","minor_crash","local_library","temple_hindu","local_drink","local_printshop","emergency_recording","bento","bathtub","home_repair_service","tapas","tire_repair","rice_bowl","hvac","church","kebab_dining","departure_board","local_hospital","fastfood","free_breakfast","local_cafe","warehouse","temple_buddhist","local_pharmacy","stadium","festival","business_center","fire_truck","local_activity","local_play","local_shipping","no_food","factory","elevator","backpack","no_photography","kitchen","escalator","synagogue","streetview","menu_book","directions_boat","directions_boat_filled","rate_review","stairs","medical_information","run_circle","badge","local_mall","local_post_office","casino","local_see","subway","breakfast_dining","castle","maps_ugc","beenhere","fort","mosque","medical_services"]);var M=new d(["woman","person_outline","scuba_diving","downhill_skiing","sports_handball","elderly","blind","snowshoeing","assist_walker","people_outline","co2","girl","person","architecture","plus_one","boy","hiking","snowboarding","nordic_walking","skateboarding","person_remove","emoji_nature","sledding","person_off","severe_cold","personal_injury","precision_manufacturing","female","person_2","recycling","person_add","nights_stay","person_4","whatshot","notifications_off","kayaking","engineering","kitesurfing","emoji_objects","woman_2","male","cruelty_free","person_3","coronavirus","group_remove","sports_basketball","surfing","face_6","notification_add","safety_divider","tsunami","group_add","man_2","sports_volleyball","man_3","sports_esports","man_4","notifications_none","sports_football","man","piano_off","notifications_active","clean_hands","water_drop","cake","interests","sports_motorsports","sports_gymnastics","emoji_flags","share","face_4","domain_add","sports_golf","heart_broken","flood","emoji_people","military_tech","real_estate_agent","self_improvement","social_distance","single_bed","paragliding","facebook","sports_baseball","sports_martial_arts","thunderstorm","connect_without_contact","emoji_transportation","sports_hockey","sports_tennis","elderly_woman","science","sports_cricket","6_ft_apart","sentiment_neutral","ios_share","sentiment_satisfied","sentiment_dissatisfied","emoji_emotions","sick","cookie","add_reaction","groups_3","groups","sports","remove_moderator","sentiment_very_dissatisfied","face_5","outdoor_grill","dew_point","transgender","notifications_paused","mood","mood_bad","construction","face_3","edit_notifications","emoji_symbols","groups_2","sentiment_very_satisfied","masks","no_adult_content","tornado","reduce_capacity","group","people","psychology","workspace_premium","deck","history_edu","cyclone","notifications","handshake","vaccines","south_america","sports_mma","follow_the_signs","compost","emoji_events","luggage","travel_explore","no_luggage","psychology_alt","king_bed","sports_kabaddi","people_alt","sports_soccer","group_off","scale","school","pages","public_off","sanitizer","emoji_food_beverage","health_and_safety","public","diversity_1","piano","location_city","pix","thumb_down_alt","thumb_up_alt","diversity_2","diversity_3","volcano","recommend","ice_skating","domain","hive","landslide","sports_rugby","wallet","fireplace","switch_account","sign_language","roller_skating","back_hand","front_hand","scoreboard","poll","add_moderator","18_up_rating","party_mode","waving_hand","face_2"]);var O=new d(["ac_unit","severe_cold","mode_dual","storm","cyclone","flood","air ","landslide","airwave","heat ","rainy_heavy","mist ","tornado ","rainy_light ","tsunami ","rainy_snow ","water ","nights_stay ","foggy ","thunderstorm ","weather_hail ","weather_mix ","weather_snowy ","cloudy_snowing ","routine ","partly_cloudy_day ","rainy ","clear_day ","sunny ","sunny_snowing ","snowing_heavy ","clear_night ","cloud "]);var w={FULL_COLOR:"fullcolor",GRAYSCALE:"grayscale",BLACK_AND_WHITE:"blackandwhite"},L=[700,600,500,400,300,200,100];function $({red:e,green:t,blue:o}){return`rgb(${e}, ${t}, ${o})`}function T({lightness:e}){return`rgb(${e}, ${e}, ${e})`}function U({lightness:e}){return e>127?"#fff":"#000"}var j={default:$,[w.FULL_COLOR]:$,[w.GRAYSCALE]:T,[w.BLACK_AND_WHITE]:U};function F(e){return new Promise((t,o)=>{let _=new Image,r=new FileReader;r.onload=i=>{_.src=i.target.result},_.onload=()=>{t(_)},r.onerror=o,r.readAsDataURL(e)})}function q({image:e,size:t}){t||={},t.width||=e.width,t.height||=e.height;let o=document.createElement("canvas"),_=o.getContext("2d");o.width=t.width,o.height=t.height,_.drawImage(e,0,0,t.width,t.height);let r=_.getImageData(0,0,t.width,t.height);if(!r||!r.data)throw new Error("Could not get image data");return r.data.reduce((i,s,n)=>{let l=Math.floor(n/4);return i[l]||(i[l]=[]),i[l].push(s),i},[]).map(i=>{let[s,n,l]=i,p=Math.round(i.slice(0,3).reduce((b,v)=>v)/3),h=`rgb(${s}, ${n}, ${l})`,f=L[Math.floor(p/255*(L.length-1))],y=Math.floor(p/255*50)+"%";return{red:s,green:n,blue:l,lightness:p,color:h,weight:f,radius:y}})}function W({pixel:e,threshold:t=128,symbolSet:o=I,colorMode:_=METHODS[FULL_COLOR]}){let{lightness:r}=e,i=o.getSymbol(r),s=j[_],n=l=>{let p=l.pixel==="light"?"white":s(e),h=l.pixel==="light"?s(e):"white",f=l.symbol==="fill"?1:0,y=e.lightness!==0&&e.lightness!==255;return`
    <span
      class='material-symbols-outlined shrink-0 flex justify-center items-center w-[12px] h-[12px]' 
      style="
        display: flex !important;
        font-size: 9px !important;
        background-color: ${p};
        color: ${h};
        font-variation-settings: 'wght' ${e.weight}, 'FILL_color' ${f};
        border-radius: ${e.radius}
      "
      data-character="${i.index}"
    >
      ${y?i.text:""}
    </span>`};return r<t?n({pixel:"dark",symbol:r>t/2?"fill":"outline"}):n({pixel:"light",symbol:r<163?"fill":"outline"})}function G({pixels:e,size:t,...o}){return Array.from({length:t.height}).map((_,r)=>`<div class="flex flex-row no-wrap">${Array.from({length:t.width}).map((s,n)=>{let l=r*t.width+n;return W({pixel:e[l],...o})}).join("")}</div>`).join("")}function P(){let e=document.getElementById("image"),t=document.getElementById("threshold"),o=document.getElementById("symbol-set"),_=document.getElementById("output"),r=document.getElementById("errors"),i=document.getElementById("clear-errors"),s=document.getElementById("width"),n=document.getElementById("height"),l=document.getElementById("color-mode"),p=[t,o,l],h=a=>{r.innerHTML+=a.message},f=()=>{r.innerHTML=""},y=a=>{switch(a){case"communication":return I;case"maps":return C;case"social":return M;default:return O}},b=(a,u={})=>{if(u.target&&u.target===n){let c=parseInt(n.value,10),m=Math.floor(c*(a.width/a.height));s.value!==m&&(s.value=m)}else{let c=parseInt(s.value,10),m=Math.floor(c*(a.height/a.width));n.value!==m&&(n.value=m)}},v=()=>({width:parseInt(s.value,10),height:parseInt(n.value,10)}),k=[],A=()=>{k.forEach(a=>a()),k=[]},x=[],S=()=>{x.forEach(a=>a()),x=[]},B=async()=>{A(),S();let a;try{a=await F(e.files[0])}catch(c){return console.error(c),h(c)}b(a,{target:s});let u=c=>{S(),b(a,c);let m=v(),D=q({image:a,size:m}),E=()=>{try{let g=t.value,R=y(o.value),H=l.value;_.innerHTML=G({pixels:D,size:m,threshold:g,symbolSet:R,colorMode:H})}catch(g){return h(g)}};x=p.map(g=>(g.addEventListener("change",E),()=>{g.removeEventListener("change",E)})),E()};[s,n].forEach(c=>{c.addEventListener("change",u),k.push(()=>c.removeEventListener("change",u))}),u()};i.addEventListener("click",f),e.addEventListener("change",B)}document.addEventListener("DOMContentLoaded",P);})();
//# sourceMappingURL=index.js.map
