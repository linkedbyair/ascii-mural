(()=>{var c=class{constructor(e){this.symbols=e}getSymbol(e){let o=Math.floor(e/255*(this.symbols.length-1));return{text:this.symbols[o],index:o}}};var k=new c(["call_made","call_received","call_missed","call_missed_outgoing","read_more","call_end","phone","phone_enabled","call","call_merge","import_export","dialer_sip","add_ic_call","key_off","person_search","phone_disabled","call_split","wifi_calling","phonelink_erase","vpn_key_off","vpn_key","invert_colors_off","qr_code_scanner","clear_all","location_off","location_on","person_add_disabled","qr_code_2","speaker_phone","no_sim","nat","domain_disabled","swap_calls","rss_feed","dialpad","app_registration","more_time","ring_volume","mark_unread_chat_alt","voicemail","key","chat_bubble_outline","mark_email_unread","duo","sentiment_satisfied_alt","cell_tower","rtt","spoke","forward_to_inbox","mail_outline","cell_wifi","portable_wifi_off","phonelink_ring","alternate_email","hourglass_bottom","hourglass_top","stay_current_portrait","stay_primary_portrait","stay_current_landscape","stay_primary_landscape","domain_verification","pause_presentation","cancel_presentation","present_to_all","list_alt","qr_code","phonelink_lock","mobile_screen_share","desktop_access_disabled","phonelink_setup","hub","unsubscribe","business","send_time_extension","print_disabled","co_present","import_contacts","mark_email_read","comments_disabled","document_scanner","comment","message","forum","sip","chat","mail_lock","stop_screen_share","mark_chat_read","email","3p","live_help","screen_share","mark_chat_unread","textsms","contact_mail","chat_bubble","contacts","contact_phone","contact_emergency"]);var I=new c(["connecting_airports","alt_route","transit_enterexit","360","straight","local_phone","vaping_rooms","turn_slight_left","turn_slight_right","smoking_rooms","grass","directions_run","turn_left","turn_right","mode_of_travel","multiple_stop","moving","near_me","terrain","ramp_right","ramp_left","navigation","vape_free","turn_sharp_left","turn_sharp_right","atm","merge","soup_kitchen","no_drinks","local_dining","restaurant_menu","transfer_within_a_station","bungalow","stroller","tty","person_pin_circle","no_stroller","local_fire_department","fork_left","fork_right","not_listed_location","airline_stops","room_service","pest_control_rodent","location_pin","u_turn_left","u_turn_right","layers","compass_calibration","local_pizza","park","emergency_share","attractions","place","bakery_dining","person_pin","egg","edit_location","category","golf_course","roofing","airlines","local_grocery_store","spa","electric_car","cabin","no_meeting_room","directions_bus","child_friendly","local_car_wash","set_meal","trip_origin","electric_rickshaw","remove_road","add_road","checkroom","corporate_fare","zoom_out_map","wrong_location","sports_bar","umbrella","electrical_services","all_inclusive","lunch_dining","edit_road","sailing","add_location_alt","directions_walk","fitness_center","flight_class","volunteer_activism","desk","flight","directions_subway_filled","directions_transit_filled","electric_scooter","directions_railway_filled","zoom_in_map","taxi_alert","screen_rotation_alt","bus_alert","other_houses","local_airport","smoke_free","no_backpack","egg_alt","local_movies","forest","satellite","museum","local_offer","chalet","cottage","wine_bar","plumbing","sos","local_police","railway_alert","dry","local_convenience_store","foundation","wash","soap","hail","house_siding","celebration","nightlife","local_bar","child_care","car_repair","carpenter","wheelchair_pickup","local_parking","route","hardware","baby_changing_station","near_me_disabled","car_rental","iron","pool","beach_access","brunch_dining","directions_bike","fire_extinguisher","electric_moped","pin_drop","dinner_dining","diamond","add_location","icecream","houseboat","dry_cleaning","bike_scooter","ac_unit","my_location","pedal_bike","local_atm","escalator_warning","layers_clear","rv_hookup","agriculture","gite","tram","edit_attributes","restaurant","two_wheeler","emergency","directions_car","no_meals","safety_check","cleaning_services","handyman","electric_bike","fence","house","snowmobile","pest_control","design_services","edit_location_alt","water_damage","crib","local_taxi","storefront","crisis_alert","airport_shuttle","traffic","do_not_step","directions_car_filled","no_transfer","takeout_dining","night_shelter","balcony","local_florist","charging_station","store_mall_directory","local_gas_station","directions","theater_comedy","signpost","hot_tub","ramen_dining","hotel","local_hotel","no_flash","meeting_room","villa","ev_station","room_preferences","countertops","food_bank","family_restroom","add_business","microwave","holiday_village","train","money","directions_subway","directions_transit","no_crash","map","liquor","directions_bus_filled","do_not_touch","car_crash","directions_railway","local_laundry_service","apartment","minor_crash","local_library","temple_hindu","local_drink","local_printshop","emergency_recording","bento","bathtub","home_repair_service","tapas","tire_repair","rice_bowl","hvac","church","kebab_dining","departure_board","local_hospital","fastfood","free_breakfast","local_cafe","warehouse","temple_buddhist","local_pharmacy","stadium","festival","business_center","fire_truck","local_activity","local_play","local_shipping","no_food","factory","elevator","backpack","no_photography","kitchen","escalator","synagogue","streetview","menu_book","directions_boat","directions_boat_filled","rate_review","stairs","medical_information","run_circle","badge","local_mall","local_post_office","casino","local_see","subway","breakfast_dining","castle","maps_ugc","beenhere","fort","mosque","medical_services"]);var L=new c(["woman","person_outline","scuba_diving","downhill_skiing","sports_handball","elderly","blind","snowshoeing","assist_walker","people_outline","co2","girl","person","architecture","plus_one","boy","hiking","snowboarding","nordic_walking","skateboarding","person_remove","emoji_nature","sledding","person_off","severe_cold","personal_injury","precision_manufacturing","female","person_2","recycling","person_add","nights_stay","person_4","whatshot","notifications_off","kayaking","engineering","kitesurfing","emoji_objects","woman_2","male","cruelty_free","person_3","coronavirus","group_remove","sports_basketball","surfing","face_6","notification_add","safety_divider","tsunami","group_add","man_2","sports_volleyball","man_3","sports_esports","man_4","notifications_none","sports_football","man","piano_off","notifications_active","clean_hands","water_drop","cake","interests","sports_motorsports","sports_gymnastics","emoji_flags","share","face_4","domain_add","sports_golf","heart_broken","flood","emoji_people","military_tech","real_estate_agent","self_improvement","social_distance","single_bed","paragliding","facebook","sports_baseball","sports_martial_arts","thunderstorm","connect_without_contact","emoji_transportation","sports_hockey","sports_tennis","elderly_woman","science","sports_cricket","6_ft_apart","sentiment_neutral","ios_share","sentiment_satisfied","sentiment_dissatisfied","emoji_emotions","sick","cookie","add_reaction","groups_3","groups","sports","remove_moderator","sentiment_very_dissatisfied","face_5","outdoor_grill","dew_point","transgender","notifications_paused","mood","mood_bad","construction","face_3","edit_notifications","emoji_symbols","groups_2","sentiment_very_satisfied","masks","no_adult_content","tornado","reduce_capacity","group","people","psychology","workspace_premium","deck","history_edu","cyclone","notifications","handshake","vaccines","south_america","sports_mma","follow_the_signs","compost","emoji_events","luggage","travel_explore","no_luggage","psychology_alt","king_bed","sports_kabaddi","people_alt","sports_soccer","group_off","scale","school","pages","public_off","sanitizer","emoji_food_beverage","health_and_safety","public","diversity_1","piano","location_city","pix","thumb_down_alt","thumb_up_alt","diversity_2","diversity_3","volcano","recommend","ice_skating","domain","hive","landslide","sports_rugby","wallet","fireplace","switch_account","sign_language","roller_skating","back_hand","front_hand","scoreboard","poll","add_moderator","18_up_rating","party_mode","waving_hand","face_2"]);var S=new c(["ac_unit","severe_cold","mode_dual","storm","cyclone","flood","air ","landslide","airwave","heat ","rainy_heavy","mist ","tornado ","rainy_light ","tsunami ","rainy_snow ","water ","nights_stay ","foggy ","thunderstorm ","weather_hail ","weather_mix ","weather_snowy ","cloudy_snowing ","routine ","partly_cloudy_day ","rainy ","clear_day ","sunny ","sunny_snowing ","snowing_heavy ","clear_night ","cloud "]);var x=[700,600,500,400,300,200,100];function M(t){return new Promise((e,o)=>{let r=new Image,n=new FileReader;n.onload=a=>{r.src=a.target.result},r.onload=()=>{e(r)},n.onerror=o,n.readAsDataURL(t)})}function $({image:t,size:e}){e||={},e.width||=t.width,e.height||=t.height,t.width=e.width,t.height=e.height;let o=document.createElement("canvas"),r=o.getContext("2d");o.width=e.width,o.height=e.height,r.drawImage(t,0,0,e.width,e.height);let n=r.getImageData(0,0,e.width,e.height);if(!n||!n.data)throw new Error("Could not get image data");return n.data.reduce((a,m,i)=>{let s=Math.floor(i/4);return a[s]||(a[s]=[]),a[s].push(m),a},[]).map(a=>{let[m,i,s]=a,h=a.slice(0,3).reduce((w,p)=>p)/3,f=`rgb(${m}, ${i}, ${s})`,b=x[Math.floor(h/255*(x.length-1))],y=Math.floor(h/255*50)+"%";return{red:m,green:i,blue:s,lightness:h,color:f,weight:b,radius:y}})}function H({pixel:t,threshold:e=128,symbolSet:o=k}){let{lightness:r}=t,n=o.getSymbol(r),a=T.bind(this,t,n);return r<e?a({pixel:"dark",symbol:r>e/2?"fill":"outline"}):a({pixel:"light",symbol:r<163?"fill":"outline"})}function T(t,e,o){let r=o.pixel==="light"?"white":t.color,n=o.symbol==="fill"?1:0,a=t.lightness!==0&&t.lightness!==255;return`
  <span
    class='material-symbols-outlined flex justify-center items-center w-[12px] h-[12px]' 
    style="
      font-size: 9px !important;
      background-color: ${r};
      color: white;
      font-variation-settings: 'wght' ${t.weight}, 'FILL_color' ${n};
      border-radius: ${t.radius}
    "
    data-character="${e.index}"
  >
    ${a?e.text:""}
  </span>`}function A({pixels:t,size:e,...o}){return Array.from({length:e.height}).map((r,n)=>`<div class="flex flex-row no-wrap">${Array.from({length:e.width}).map((m,i)=>{let s=n*e.width+i;return H({pixel:t[s],...o})}).join("")}</div>`).join("")}function D(){let t=document.getElementById("image"),e=document.getElementById("threshold"),o=document.getElementById("symbol-set"),r=[t,e,o],n=document.getElementById("output"),a=document.getElementById("errors"),m=document.getElementById("clear-errors"),i=document.getElementById("width"),s=document.getElementById("height"),h=l=>{a.innerHTML+=l.message},f=()=>{a.innerHTML=""},b=l=>{switch(l){case"communication":return k;case"maps":return I;case"social":return L;default:return S}},y=(l,g)=>{if(g.target===i){let _=parseInt(i.value,10),d=Math.floor(_/(l.width/l.height));s.value!==d&&(s.value=d)}else{let _=parseInit(s.value,10),d=Math.floor(_*(l.width/l.height));i.value!==d&&(i.value=d)}},w=()=>({width:parseInt(i.value,10),height:parseInt(s.value,10)}),p=[],E=()=>{p.length&&p.forEach(l=>l())},j=async()=>{E();let l;try{l=await M(t.files[0])}catch(_){return console.error(_),h(_)}y(l,{target:i});let g=_=>{E();let d=w(),B=$({image:l,size:d}),v=()=>{try{let u=e.value,C=b(o.value);n.innerHTML=A({pixels:B,size:d,threshold:u,symbolSet:C})}catch(u){return h(u)}};p=r.map(u=>(u.addEventListener("change",v),()=>{u.removeEventListener("change",v)})),v()};[i,s].forEach(_=>{_.addEventListener("change",g),p.push(()=>_.removeEventListener("change",g))}),g()};m.addEventListener("click",f),t.addEventListener("change",j)}document.addEventListener("DOMContentLoaded",D);})();
//# sourceMappingURL=index.js.map
